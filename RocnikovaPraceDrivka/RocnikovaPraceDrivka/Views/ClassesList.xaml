<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:myE="clr-namespace:RocnikovaPraceDrivka.MyElements"
			 x:Class="RocnikovaPraceDrivka.Views.ClassesList"
			 Title="Classes list"
			 NavigationPage.HasNavigationBar="False"
			 NavigationPage.HasBackButton="False"
			 NavigationPage.BackButtonTitle="False">

	<StackLayout Orientation="Vertical">
		<CollectionView x:Name="list"
					BackgroundColor="Black">

			<CollectionView.ItemsLayout>
				<LinearItemsLayout 
					Orientation="Vertical"
					ItemSpacing="2"/>
			</CollectionView.ItemsLayout>

			<CollectionView.Header>
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="50"/>
					</Grid.ColumnDefinitions>

					<Label>
						<Label.FormattedText>
							<FormattedString>
								<FormattedString.Spans>
									<Span
										Text="List of your "
										Grid.Column="0"/>
									<Span 
										x:Name="ClassesCountSpan"/>
									<Span
										Text=" classes"/>
								</FormattedString.Spans>
							</FormattedString>
						</Label.FormattedText>
					</Label>
					<Button 
						Text="Add"
						Grid.Column="2"
						HorizontalOptions="Center"
						Clicked="AddButton_Clicked"/>

				</Grid>
			</CollectionView.Header>

			<CollectionView.EmptyView>
				<Frame>
					<Label 
						Text="No classes created yet"
						HorizontalOptions="Center" 
						VerticalOptions="Center"/>
				</Frame>
			</CollectionView.EmptyView>

			<CollectionView.ItemTemplate>
				<DataTemplate>
					<Grid 
						VerticalOptions="FillAndExpand">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="2*"/>
							<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>

						<Label 
							Text="{Binding Name}"
							Grid.Column="0"
							VerticalTextAlignment="Center"
							HorizontalTextAlignment="Center"/>

						<Label 
							Text="{Binding Desc}"
							Grid.Column="1"
							HorizontalTextAlignment="Center"
							VerticalTextAlignment="Center"/>

						<myE:MyClassButton 
							Text="Details"
							Grid.Column="2"
							VerticalOptions="FillAndExpand"
							HorizontalOptions="Center"
							Clicked="DetailsButton_Clicked"
							ClassItem="{Binding .}"/>

					</Grid>
				</DataTemplate>
			</CollectionView.ItemTemplate>
		</CollectionView>
	</StackLayout>
</ContentPage>